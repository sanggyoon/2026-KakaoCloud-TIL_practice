## ëª©ì°¨

1. AWS Lambda ì‹¤ìŠµ
2. Docker ê¸°ì´ˆ
3. AWS EC2ì— Docker ì„¤ì¹˜
4. Docker ê¸°ë³¸ ëª…ë ¹ì–´

---

## 1) AWS Lambda ì‹¤ìŠµ

![image.png](attachment:ba75721f-bdb3-4c3c-ad9b-3151047b014c:image.png)

1. Lambda í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ë°ì´í„° ë¡œë“œ
2. S3 ì´ë²¤íŠ¸ êµ¬ì„±
3. ë¡œë”© í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸
4. ì•Œë¦¼ êµ¬ì„±(SNS)
5. ì•Œë¦¼ì„ ì „ì†¡í•˜ëŠ” Lambda í•¨ìˆ˜ ìƒì„±
6. ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸

---

## 2) Docker ê¸°ì´ˆ

- ë¦¬ëˆ…ìŠ¤ ì»¨í…Œì´ë„ˆ
  - chroot: rootë””ë ‰í† ë¦¬ ë³€ê²½í•˜ëŠ” ì‹œìŠ¤í…œ ì½œ, íŠ¹ì • ë””ë ‰í† ë¦¬ë¥¼ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì˜ ë£¨íŠ¸ì²˜ëŸ¼ ë³´ì´ë„ë¡ ê²©ë¦¬
  - cgroup: í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ ë³„ë¡œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ì„ ì œí•œ ë° ëª¨ë‹ˆí„°ë§
    - CPU
    - Memory
    - Disk I/O
    - Network
    - PIDs ìˆ˜
  - namespace: í”„ë¡œì„¸ìŠ¤ì— ê²©ë¦¬ëœ ì‹œìŠ¤í…œ ë·°ë¥¼ ì œê³µí•˜ëŠ” ì»¤ë„ ê¸°ëŠ¥
    | PID  | í”„ë¡œì„¸ìŠ¤ ID ê²©ë¦¬ (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ëŠ” PID 1ë¶€í„° ì‹œì‘) |
    | ---- | ------------------------------------------------- |
    | NET  | ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ê²©ë¦¬                          |
    | MNT  | ë§ˆìš´íŠ¸ í¬ì¸íŠ¸ ê²©ë¦¬                                |
    | IPC  | í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹  ê²©ë¦¬                             |
    | UTS  | hostname ê²©ë¦¬                                     |
    | USER | UID/GID ê²©ë¦¬                                      |

---

## 3) aws ec2ì— Docker ì„¤ì¹˜

**1ï¸âƒ£ ê¸°ì¡´ ì”ì—¬ íŒ¨í‚¤ì§€ ì œê±° (ì„ íƒ but ê¶Œì¥)**

```
sudo apt remove docker docker-engine docker.io containerd runc -y
```

**2ï¸âƒ£ íŒ¨í‚¤ì§€ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸**

```
sudo apt update
```

**3ï¸âƒ£ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜**

```
sudo apt install ca-certificates curl gnupg -y
```

**4ï¸âƒ£ Docker GPG í‚¤ ë“±ë¡**

```
sudo install -m 0755 -d /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | \
sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

**5ï¸âƒ£ Docker ê³µì‹ ì €ì¥ì†Œ ì¶”ê°€**

```
echo \
"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \
https://download.docker.com/linux/ubuntu \
$(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

**6ï¸âƒ£ ì €ì¥ì†Œ ë°˜ì˜**

```
sudo apt update
```

**7ï¸âƒ£ Docker Engine ì„¤ì¹˜**

```
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y
```

**8ï¸âƒ£ Docker ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸**

```
sudo systemctl status docker
```

**9ï¸âƒ£ ì •ìƒ ë™ì‘ í…ŒìŠ¤íŠ¸**

```
sudo docker run hello-world
```

**ğŸ”Ÿ sudo ì—†ì´ Docker ì‚¬ìš© (ì„ íƒ)**

```
sudo usermod -aG docker $USER
newgrp docker
```

**1ï¸âƒ£1ï¸âƒ£ Docker Compose ë²„ì „ í™•ì¸**

```
docker compose version
```

**ğŸ¯ ì„¤ì¹˜ ì™„ë£Œ í›„ ì •ìƒ ìƒíƒœ**

```
docker --version
docker compose version
sudo systemctl status docker
```

---

## 4) Docker ê¸°ë³¸ ëª…ë ¹ì–´

**ì´ë¯¸ì§€**

- `docker pull [ì´ë¯¸ì§€]` â€” ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
- `docker images` â€” ì´ë¯¸ì§€ ëª©ë¡
- `docker rmi [ì´ë¯¸ì§€]` â€” ì´ë¯¸ì§€ ì‚­ì œ
- `docker build -t [ì´ë¦„] .` â€” Dockerfileë¡œ ë¹Œë“œ

**ì»¨í…Œì´ë„ˆ ì‹¤í–‰**

- `docker run [ì˜µì…˜] [ì´ë¯¸ì§€]`
  - `d` ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
  - `it` ì¸í„°ë™í‹°ë¸Œ í„°ë¯¸ë„
  - `p í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ` í¬íŠ¸ ë§¤í•‘
  - `v í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ` ë³¼ë¥¨ ë§ˆìš´íŠ¸
  - `-name` ì»¨í…Œì´ë„ˆ ì´ë¦„ ì§€ì •
  - `-rm` ì¢…ë£Œ ì‹œ ìë™ ì‚­ì œ
  - `e` í™˜ê²½ë³€ìˆ˜ ì„¤ì •
  - `-network` ë„¤íŠ¸ì›Œí¬ ì§€ì •

**ì»¨í…Œì´ë„ˆ ê´€ë¦¬**

- `docker ps` â€” ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ (`a` ì „ì²´)
- `docker start/stop/restart [ì»¨í…Œì´ë„ˆ]`
- `docker rm [ì»¨í…Œì´ë„ˆ]` â€” ì»¨í…Œì´ë„ˆ ì‚­ì œ (`f` ê°•ì œ)
- `docker exec -it [ì»¨í…Œì´ë„ˆ] bash` â€” ì»¨í…Œì´ë„ˆ ì ‘ì†
- `docker logs [ì»¨í…Œì´ë„ˆ]` â€” ë¡œê·¸ í™•ì¸ (`f` ì‹¤ì‹œê°„)

**ì‹œìŠ¤í…œ**

- `docker inspect [ëŒ€ìƒ]` â€” ìƒì„¸ ì •ë³´
- `docker stats` â€” ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
- `docker system prune` â€” ë¯¸ì‚¬ìš© ë¦¬ì†ŒìŠ¤ ì¼ê´„ ì‚­ì œ

**ë„¤íŠ¸ì›Œí¬ / ë³¼ë¥¨**

- `docker network ls / create / rm`
- `docker volume ls / create / rm`

**Docker Compose**

- `docker compose up -d` â€” ì‹¤í–‰
- `docker compose down` â€” ì¤‘ì§€ ë° ì‚­ì œ
- `docker compose logs -f` â€” ë¡œê·¸
